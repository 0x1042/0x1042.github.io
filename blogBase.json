{"startSite": "", "filingNum": "", "onePageListNum": 15, "commentLabelColor": "#006b75", "yearColorList": ["#bc4c00", "#0969da", "#1f883d", "#A333D0"], "i18n": "CN", "dayTheme": "light", "nightTheme": "dark_colorblind", "title": "Daily", "displayTitle": "aily", "subTitle": "\u6211\u81ea\u503e\u6000\uff0c\u541b\u4e14\u968f\u610f\u3002", "homeUrl": "http://0x1042.github.io", "avatarUrl": "http://meekdai.com/avatar.jpg", "faviconUrl": "http://meekdai.com/favicon.ico", "singlePage": ["link", "about"], "GMEEK_VERSION": "v2.4", "postListJson": {"P1": {"htmlDir": "docs/post/c++-zhong-shi-xian-golang-zhong-de-defer-gong-neng.html", "label": "\u57fa\u7840", "labelColor": "#33BE7E", "postTitle": "c++\u4e2d\u5b9e\u73b0golang\u4e2d\u7684defer\u529f\u80fd", "postUrl": "post/c%2B%2B-zhong-shi-xian-golang-zhong-de-defer-gong-neng.html", "postSourceUrl": "https://github.com/0x1042/0x1042.github.io/issues/1", "commentNum": 0, "description": "# \u4f7f\u7528`folly`\r\n\r\n```c++\r\n#include <folly/ScopeGuard.h>\r\n\r\nauto main() -> int {\r\n    std::string msg = \"exit...\";\r\n\r\n    auto guard1 = folly::makeGuard([&] { std::cerr << \"from folly::makeGuard:\" << msg << '\\n'; });\r\n\r\n    std::cout << \"Hello, World!\" << '\\n';\r\n    return 0;\r\n}\r\n\r\n```\r\n\r\n# \u81ea\u5b9a\u4e49\u5b9e\u73b0\r\n\r\n```c++\r\ntemplate <typename Lambda> \r\nstruct Defer : Lambda {\r\n    ~Defer() { Lambda::operator()(); }\r\n};\r\n\r\ntemplate <typename Lambda> \r\nDefer(Lambda) -> Defer<Lambda>;\r\n\r\nauto main() -> int {\r\n    std::string msg = \"exit...\";\r\n\r\n    Defer guard{[&] { std::cerr << msg << '\\n'; }};\r\n\r\n    std::cout << \"Hello, World!\" << '\\n';\r\n    return 0;\r\n}\r\n```\r\n\u3002", "top": 0, "createdAt": 1698249441, "style": "", "script": "", "createdDate": "2023-10-25", "dateLabelColor": "#A333D0"}}, "singeListJson": {}, "prevUrl": "disabled", "nextUrl": "disabled"}